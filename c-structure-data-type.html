<!DOCTYPE html>
<html lang=en-US>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name=viewport content="width=device-width, initial-scale=1">
	
	<link rel="shortcut icon"  href="/static/favicon.ico"/>
	<link rel="stylesheet" href="/static/style.css"/>
	<link rel="canonical" href="https://vhernando.github.io/c-structure-data-type.html"/>
	

	
	<title>C Structures - Vicente Hernando</title>
	
	<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WNT6FCF');</script>
<!-- End Google Tag Manager -->
  </head>
  <body>
	<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WNT6FCF"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<script defer='' src="/static/cookienotice.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function(event) {
      window.cookieChoices && cookieChoices.showCookieConsentBar && cookieChoices.showCookieConsentBar(
          (window.cookieOptions && cookieOptions.msg) || 'This site uses cookies from Google for traffic analysis and to provide its services. Your IP address, user-agent and some security and performance metrics will be shared with Google, in order to guarantee quality of service, gather statistics and solve misuses.',
          (window.cookieOptions && cookieOptions.close) || 'Accept',
          (window.cookieOptions && cookieOptions.learn) || 'More information',
          (window.cookieOptions && cookieOptions.link) || 'https://policies.google.com/technologies/cookies');
    });
  </script>

	
	<div id="header">
	  
	  <h1 style="text-align:center"><a id="web_name" href="/">Vicente Hernando&#39;s web site</a></h1>
	  
	  <h2 style="text-align:center">computers, free software, cars, singularity, ...</h2>
	</div>
	<div id="content_wrapper">

<div class="sidebar_first"><h4 class="sidebar_title">Popular articles</h4>
<ul>

<li><a href="/android-how-to-install-adb-fastboot-debian.html">Android: How to install adb and fastboot in Debian</a></li>

<li><a href="/sqlite3-cheat-sheet.html">SQLite3 Cheat Sheet</a></li>

<li><a href="/sqlite3-cross-compile-arm-howto.html">How to cross-compile SQLite3 for ARM architecture</a></li>

<li><a href="/benchmark-hard-disk-linux-hdparm-dd.html">How to Benchmark Hard Disks using hdparm and dd (linux)</a></li>

<li><a href="/archlinux-install-usb-from-debian-existing-linux.html">How to install Arch Linux on a USB key from an existing Linux (Debian)</a></li>

</ul>
</div>

<div id="content_page" class="clearfix">
<div id="page_title"><h3>C Structures</h3></div>
<div id="content"><br>C language provides <b>Structure</b> data type to group together different data types.<br><br>A structure can even store pointers to other structures, so creating a linked data structure.<br><br><br><br><h5>Initializing structures</h5><br>We define an example structure type st:<br><pre>struct st {<br>  int number;<br>  char *str;<br>};</pre><br><br>Initializing the structure within its declaration;<br><pre>struct st first = {3, &#34;hello&#34;}</pre><br><br>same with <b>designated initializers</b>:<br><pre>struct st first = {.str=&#34;hello&#34;, .number=3}</pre><br><br><br>If structure was previously declared we can use <a href="https://gcc.gnu.org/onlinedocs/gcc-4.3.2/gcc/Compound-Literals.html">Compound literals</a> in C99:<br><pre>struct st second;<br>second = (struct st){3, &#34;hello&#34;};</pre><br><br>same with designated initializers:<br><pre>struct st second;<br>second = {.number=3, .str=&#34;hello&#34;};</pre><br><br><br>or member by member:<br><pre>struct st third;<br>third.number = 8;<br>third.str = &#34;bye&#34;;</pre><br><br><br><br><h5>Assigning structures</h5><br>You can assign one structure to another without problem if they are of same type:<br><br><pre>struct st foo = {2, &#34;hello&#34;};<br>struct st bar;<br>bar = foo;</pre><br><br><a href="http://stackoverflow.com/questions/2302351/assign-one-struct-to-another-in-c">Assign one struct to another in C</a><br><br><br><br><h5>Comparing two structures:</h5><br>It is needed to compare each member of the structure pair. C does no provide language help for this.<br><br><br><br><h5>Function returning a structure</h5><br><a href="http://stackoverflow.com/questions/12234089/function-returning-struct-in-c">function returning a struct in C</a><br><br><a href="http://stackoverflow.com/questions/2155730/how-do-c-compilers-implement-functions-that-return-large-structures">How do C compilers implement functions that return large structures</a><br><br><br><br><h5>Structures and typedef</h5><br>Using typedef we can avoid writing struct keyword constantly: <a href="http://stackoverflow.com/questions/252780/why-should-we-typedef-a-struct-so-often-in-c">Why should we typedef a struct so often in C?</a><br><br>typedef is a better alternative than #define for type declarations: <a href="http://stackoverflow.com/questions/1666353/are-typedef-and-define-the-same-in-c">Are typedef and #define the same in c?</a><br><br>on the other side:<br><a href="http://yarchive.net/comp/linux/typedefs.html">Linus rant about typedefs</a><br><a href="https://www.kernel.org/doc/Documentation/CodingStyle">Linux kernel coding style<a><br><br><br>E.g:<br><pre>typedef struct st {int number; char *str;} st_t;<br>st_t first, second, third;<br>first = (st_t){3, &#34;hello&#34;}</pre><br><br>Same with:<br><pre>typedef struct {int number; char *str;} st_t, *st_p;</pre><br><br><br>If we have <b>NESTED STRUCTURES</b>:<br><pre>struct st {int number; char *str; struct st *next;};<br>typedef struct st st_t;<br>...<br>st_t a, b;<br>a.next = &amp;b;</pre><br><br>or<br><br><pre>typedef struct st st_t;<br>struct st {int number; char *str; st_t *next;};<br>...<br>st_t a, b;<br>a.next = &amp;b;</pre><br><br>or<br><br><pre>typedef struct st {int number; char *str; struct st *next;} st_t;<br>...<br>st_t a, b;<br>a.next = &amp;b;</pre><br><br><br><br><h5>C bit fields</h5><br><a href="https://www.tutorialspoint.com/cprogramming/c_bit_fields.htm">C bit fields</a><br><br><a href="http://stackoverflow.com/questions/24933242/when-to-use-bit-fields-in-c">When to use bit-fields in C?</a><br><br><br><br><h5>Optimizing memory size of a structure</h5><br><a href="http://www.catb.org/esr/structure-packing/">The Lost Art of C Structure Packing</a><br><br><a href="http://stackoverflow.com/questions/119123/why-isnt-sizeof-for-a-struct-equal-to-the-sum-of-sizeof-of-each-member">Why isn&#39;t sizeof for a struct equal to the sum of sizeof of each member?</a><br><br><a href="https://en.wikipedia.org/wiki/Data_structure_alignment">Data Structure Alignment</a><br><br></div> <!-- content -->
</div><!-- content_page -->

<div class="sidebar_last"><h4 class="sidebar_title">Latest created articles</h4>
<ul>

<li><a href="/perl-language.html">Perl language</a></li>

<li><a href="/bash-shell-redirections.html">Bash redirections</a></li>

<li><a href="/badblocks-e2fsck-scan-harddisk-howto.html">How to scan a hard disk partition using badblocks (or e2fsck)</a></li>

<li><a href="/gdb-gnu-debugger-cheatsheet.html">GDB cheatsheet</a></li>

<li><a href="/gnu-screen-quick-guide-cheatsheet.html">GNU Screen : Quick Reference : Cheatsheet</a></li>

<li><a href="/javascript-language-ecmascript.html">JavaScript Language</a></li>

</ul>
</div> <!-- sidebar last created -->


<div class="sidebar_last"><h4 class="sidebar_title">Recommended articles</h4>

<ul>
<li><a href="/bitcoin-wallet-encrypt-decrypt-cipher.html">How to encrypt and decrypt your Bitcoin wallet</a></li>
<li><a href="/bitcoin-core-node-build-sources-debian.html">How to build BitcoinCore from sources in Debian</a></li>
<li><a href="/pacman-cheat-sheet-archlinux.html">Pacman cheat sheet (Arch Linux)</a></li>
<li><a href="/install-raspbian-lite-raspberry-pi-3-model-b.html">How to install Raspbian Lite in Raspberry Pi 3 model B</a></li>
<li><a href="/run-bitcoin-node-debian-how-to.html">How to run a Bitcoin node in Debian</a></li>
<li><a href="/android-apk-app-extract-install.html">Android aplication: How to extract an APK file and reinstall it</a></li>
<li><a href="/ffmpeg-commands.html">FFmpeg commands</a></li>
<li><a href="/factorial-function-scheme.html">Scheme: factorial function</a></li>
<li><a href="/ratpoison-window-manager.html">Ratpoison window manager</a></li>
<li><a href="/directfb-generate-api-documentation-html.html">How to generate API reference documentation for DirectFB</a></li>
<li><a href="/xbindkeys-grab-keys-X.html">xbindkeys: how to bind keys to commands (X window)</a></li>
<li><a href="/bitcoind-create-wallet-without-private-keys-bitcoin.html">bitcoind: How to create a wallet with no private keys</a></li>
<li><a href="/imagemagick-intro-convert-montage-identify.html">ImageMagick: Introduction (identify, convert, montage)</a></li>
<li><a href="/keyboard-shorcuts-bash-readline-default.html">Bash shell: default keyboard shortcuts</a></li>
<li><a href="/git-command-quick-reminder.html">Git Command Quick Reminder</a></li>
<li><a href="/rpm-yum-quick-reference.html">RPM Package Management Quick Reference</a></li>
</ul>
</div> <!-- sidebar recommended -->

</div><!-- content wrapper -->
    <div id="footer">&copy; Copyright 2015-2020 by Vicente Hernando.</div>
  </body>
</html>